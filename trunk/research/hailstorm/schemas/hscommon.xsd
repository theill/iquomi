<xsd:schema
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:xdb="urn:schemas-microsoft-com:xdb"
    xmlns="http://schemas.microsoft.com/hs/2001/10/core"
    targetNamespace="http://schemas.microsoft.com/hs/2001/10/core"
    elementFormDefault="qualified"
    version="1.0">

    <xsd:annotation>
        <xsd:documentation>
            Schema for common .NET My Services types.
            Copyright (c) 2001 Microsoft Corporation. All rights reserved.
        </xsd:documentation>
    </xsd:annotation>

    <!--
    //
    // include additional schema files that are part of this
    // core namespace
    //
    // Service schemas MUST only import hscommon
    //
    -->
    <xsd:include schemaLocation="hsdl.xsd"/>
    <xsd:include schemaLocation="hsinfra.xsd"/>
    <xsd:import namespace="http://www.w3.org/XML/1998/namespace"/>

    <xsd:simpleType name="string">
        <xsd:restriction base="xsd:string">
            <xsd:maxLength value="768"/>
        </xsd:restriction>
    </xsd:simpleType>

    <xsd:simpleType name="dirType">
        <xsd:annotation>
           <xsd:documentation>
              This optional attribute specifies the default layout direction
              for the localized string. Valid values are <b>rtl</b> (right to left) and
              <b>ltr</b> (left to right).
           </xsd:documentation>
        </xsd:annotation>
        <xsd:restriction base="string">
            <xsd:enumeration value="rtl"/>
            <xsd:enumeration value="ltr"/>
        </xsd:restriction>
    </xsd:simpleType>

    <xsd:complexType name="localizableString">
        <xsd:simpleContent>
            <xsd:extension base="string">
                <xsd:attribute ref="xml:lang" use="required">
                    <xsd:annotation>
                        <xsd:documentation>
                            This required attribute is used to specify an ISO 639 language code
                            or an ISO 3166 country code as described in
                            <a href="http://www.ietf.org/rfc/rfc1766.txt">RFC 1766</a>.
                            The value of this attribute indicates the language type of
                            the content within this element.
                        </xsd:documentation>
                    </xsd:annotation>
                </xsd:attribute>
                <xsd:attribute name="dir" type="dirType" use="optional">
                    <xsd:annotation>
                        <xsd:documentation>
                            This optional attribute specifies the default layout direction
                            for the localized string. Valid values are <b>rtl</b> (right to left) and
                            <b>ltr</b> (left to right).
                        </xsd:documentation>
                    </xsd:annotation>
                </xsd:attribute>
            </xsd:extension>
        </xsd:simpleContent>
    </xsd:complexType>

    <xsd:complexType name="longText">
        <xsd:simpleContent>
            <xsd:extension base="xsd:string">
                <xsd:attribute ref="xml:lang" use="required">
                    <xsd:annotation>
                        <xsd:documentation>
                            This required attribute is used to specify an ISO 639 language code
                            or an ISO 3166 country code as described in
                            <a href="http://www.ietf.org/rfc/rfc1766.txt">RFC 1766</a>.
                            The value of this attribute indicates the language type of
                            the content within this element.
                        </xsd:documentation>
                    </xsd:annotation>
                </xsd:attribute>
                <xsd:attribute name="dir" type="dirType" use="optional">
                    <xsd:annotation>
                        <xsd:documentation>
                            This optional attribute specifies the base direction of
                            directionally neutral text. Possible values include <b>rtl</b> (right to left)
                            and <b>ltr</b> (left to right).
                        </xsd:documentation>
                    </xsd:annotation>
                </xsd:attribute>
            </xsd:extension>
        </xsd:simpleContent>
    </xsd:complexType>

    <xsd:simpleType name="idType">
        <xsd:annotation>
            <xsd:documentation>
            This attribute is a globally unique ID assigned to this element
            by .NET My Services. Normally, .NET My Services generates and assigns this
            ID during an <b>insertRequest operation</b> or possibly during a
            <b>replaceRequest</b>. Application software can override this ID
            generation by specifying the <b>useClientIds</b> attribute in the
            request message. After an ID has been assigned,
            the attribute is read only and attempts to write it are silently ignored.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="itemId"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="uuidType"/>
    </xsd:simpleType>

    <xsd:simpleType name="idRefType">
        <xsd:annotation>
            <xsd:documentation>
            This attribute contains a reference to another .NET My Services item by
            its item ID.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="itemIdRef"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="uuidType"/>
    </xsd:simpleType>

    <xsd:simpleType name="instanceIdType">
        <xsd:annotation>
            <xsd:documentation>
            This attribute is a unique identifier typically assigned to the root
            element of a service. It is a read-only element and assigned by the
            .NET My Services system when a particular service is provisioned for a user.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="instanceId"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="xsd:string"/>
    </xsd:simpleType>

    <xsd:simpleType name="changeNumberType">
        <xsd:annotation>
            <xsd:documentation>
            The <b>changeNumber</b> attribute is designed to facilitate caching of the
            element and its descendants. This attribute is assigned to this element
            by the .NET My Services system. The attribute is read only to applications.
            Attempts to write this attribute are silently ignored.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="changeNumber"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="xsd:nonNegativeInteger">
            <xsd:maxInclusive value="9223372036854775807"/>
        </xsd:restriction>
    </xsd:simpleType>

    <xsd:simpleType name="creatorType">
        <xsd:annotation>
            <xsd:documentation>
            This attribute identifies the creator in terms of <b>userId</b>, <b>appId</b>, and <b>platformId</b>
            of the node.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="creator"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="xsd:hexBinary"/>
    </xsd:simpleType>

    <!--
    //
    // Standard Attribute Group for Document Root
    //
    -->
    <xsd:attributeGroup name="documentRootAttributeGroup">
        <xsd:attribute name="changeNumber" type="changeNumberType" use="required"/>
        <xsd:attribute name="instanceId" type="instanceIdType"/>
    </xsd:attributeGroup>

    <!--
    //
    // Standard Attribute Group for Standard Blue
    //
    -->
    <xsd:attributeGroup name="standardBlueAttributeGroup">
        <xsd:attribute name="changeNumber" type="changeNumberType" use="required"/>
        <xsd:attribute name="id" type="idType" use="required"/>
        <xsd:attribute name="creator" type="creatorType" use="required"/>
    </xsd:attributeGroup>

    <!--
    //
    // Standard Attribute Group for Unnamed Blue
    //
    -->
    <xsd:attributeGroup name="unnamedBlueAttributeGroup">
        <xsd:attribute name="changeNumber" type="changeNumberType" use="required"/>
    </xsd:attributeGroup>

    <xsd:simpleType name="nonZeroPercentageType">
        <xsd:restriction base="xsd:unsignedByte">
            <xsd:minInclusive value="1"/>
            <xsd:maxInclusive value="100"/>
        </xsd:restriction>
    </xsd:simpleType>

    <xsd:complexType name="linkType">
        <xsd:annotation>
            <xsd:documentation>

            The link element points to a .NET service. The type is
            defined by the type attribute (<b>linkType</b>, and the value is the contents
            of this element.

            </xsd:documentation>
        </xsd:annotation>

        <xsd:sequence>
            <xsd:element
                name="serviceClass"
                type="xsd:string"
                minOccurs="0"
                maxOccurs="unbounded"
            />
            <xsd:element
                name="ownerId"
                type="xsd:string"
                minOccurs="0"
                maxOccurs="unbounded"
            />
            <xsd:element
                name="location"
                type="locationType"
                minOccurs="0"
                maxOccurs="unbounded"
            />
        </xsd:sequence>
        <xsd:attribute
            name="type"
            type="xsd:string"
        />
    </xsd:complexType>

    <xsd:complexType name="location">
        <xsd:annotation>
            <xsd:documentation>

            The <b>location</b> element defines a location type and location value.
            The type is defined by the type attribute (<b>locationType</b>), and
            the value is the contents of this element.

            </xsd:documentation>
        </xsd:annotation>

        <xsd:complexContent>
            <xsd:extension base="xsd:anyType">
                <xsd:attribute name="type" type="locationType" use="required"/>
            </xsd:extension>
        </xsd:complexContent>
    </xsd:complexType>

    <xsd:simpleType name="locationType">
        <xsd:annotation>
            <xsd:documentation>
            This type defines the types of location pointers allowed by the
            XMI. Today the only valid value is "xpath". In the future, if additional
            XML pointer dialects become standard, they may be added as well.
            </xsd:documentation>
        </xsd:annotation>

        <xsd:restriction base="xsd:string">
            <xsd:enumeration value="xpath"/>
        </xsd:restriction>
    </xsd:simpleType>

    <xsd:simpleType name="uuidType">
        <xsd:annotation>
            <xsd:documentation>
            The <b>uuidType</b> is used to specify a universally unique identifier (UUID).
            (Note that the <b>base</b> type below is probably wrong and needs to be fixed
            to match a correct definition for a UUID.)
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="uuid"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:restriction base="xsd:string">
            <xsd:pattern value="([0-9]|[a-f]|[A-F]){8}-([0-9]|[a-f]|[A-F]){4}-([0-9]|[a-f]|[A-F]){4}-([0-9]|[a-f]|[A-F]){4}-([0-9]|[a-f]|[A-F]){12}"/>
        </xsd:restriction>
        <!-- AZFIX: restriction base="xsd:anyURI" -->
    </xsd:simpleType>

    <xsd:simpleType name="puidType">
        <xsd:annotation>
            <xsd:documentation>
            This element is used to specify a Passport Unique ID (PUID). The ID itself is in raw form: it is
            not encrypted in any way.
            </xsd:documentation>
        </xsd:annotation>

        <xsd:restriction base="xsd:string">
            <!-- use xsd:hexBinary -->
        </xsd:restriction>
    </xsd:simpleType>

    <!--
    //
    // categories
    //
    -->

    <!--
    //
    // catType
    //
    -->
    <xsd:complexType
        name="catType"
        >
        <xsd:annotation>
            <xsd:documentation>
            This element is used to categorize the element that contains it by
            referencing either a global category definition
            (in either the .NET Categories service
            system document or an external resource containing category definitions), or
            by referencing an identity-centered category definition in the content
            document of the .NET Categories service for a particular PUID.
            </xsd:documentation>
        </xsd:annotation>
        <xsd:attribute
            name="ref"
            use="required"
            type="xsd:anyURI"
            >
            <xsd:annotation>
                <xsd:documentation>
                This attribute references a category definition (<b>catDef</b>) element using the
                rules outlined in the <a href="myCategories.html">.NET Categories</a> section of the <i>XMI Manual</i>.
                </xsd:documentation>
            </xsd:annotation>
        </xsd:attribute>
    </xsd:complexType>

    <!--
    //
    // catDef
    //
    -->
    <xsd:complexType
        name="catDefType"
        >
        <xsd:annotation>
            <xsd:documentation>
            This element encapsulates the definition of a category and, as outlined in
            the <a href="myCategories.html">.NET Categories</a> section of the XMI Manual, may appear in the
            system or content document of the .NET Categories service, or may appear in an external
            resource.
            </xsd:documentation>
        </xsd:annotation>

        <xsd:sequence>

            <xsd:any
                processContents="skip"
                namespace="##other"
                minOccurs="0"
                maxOccurs="unbounded"
            />

            <xsd:element
                name="name"
                type="localizableString"
                minOccurs="0"
                maxOccurs="unbounded"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the localized name of the category.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="description"
                type="longText"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies a full description of the category definition.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="implies"
                type="catType"
                minOccurs="0"
                maxOccurs="unbounded"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies that this category definition also implies
                    that another category (designated by the <b>ref</b> attribute) also applies.
                    </xsd:documentation>
                </xsd:annotation>

            </xsd:element>

            <xsd:element
                name="cat"
                type="catType"
                minOccurs="0"
                maxOccurs="unbounded"
                />
        </xsd:sequence>

        <xsd:attribute
            name="idName"
            type="string"
            use="required"
            >
            <xsd:annotation>
                <xsd:documentation>
                This attribute specifies the name of the category definition in the form of the category name.
                The relationship between this value and references to this value is defined using the
                rules outlined in the <a href="myCategories.html">.NET Categories</a> section of the <i>XMI Manual</i>.
                </xsd:documentation>
            </xsd:annotation>
        </xsd:attribute>

        <xsd:attributeGroup ref="standardBlueAttributeGroup"/>
    </xsd:complexType>


    <!--
    //
    // userReference - this is used to capture simple data about a user.
    // Generally this occurs when you might want to find more data later, but you
    // don't want to store an entire contact
    //
    -->
    <xsd:complexType
        name="userReference"
        >
        <xsd:sequence>
            <xsd:element
                name="name"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies the name for the enclosing element.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="puid"
                type="puidType"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies the PUID for the enclosing element.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="email"
                type="xsd:string"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional name specifies an e-mail address for the enclosing element.
                    </xsd:documentation>
                </xsd:annotation>

            </xsd:element>
        </xsd:sequence>
    </xsd:complexType>

    <!--
    //
    // userReferenceCategorized
    //
    //-->
    <xsd:complexType
        name="userReferenceCategorized">
        <xsd:complexContent>
            <xsd:extension base="userReference">
                <xsd:sequence>
                    <xsd:element
                        name="cat"
                        type="catType">
                    </xsd:element>
                </xsd:sequence>
            </xsd:extension>
        </xsd:complexContent>
    </xsd:complexType>

    <!--
    //
    // telephoneNumberType
    //
    //-->
    <xsd:complexType name="telephoneNumberType">
        <xsd:annotation>
            <xsd:documentation>
            This element encapsulates an electronic address for this entity; specifically,
            it contains a telephone number.
            This element
            may be repeated any number of times. Typical use is one <b>telephoneNumber</b> element
            for each phone number associated with this identity.
            <p/>
            A telephone number consists of an optional country code, a required <b>nationalCode</b> (U.S. area code),
            a number, an optional extension, and a optional PIN.
            </xsd:documentation>
        </xsd:annotation>
        <xsd:sequence>
            <xsd:element
                name="cat"
                type="catType"
                minOccurs="0"
                maxOccurs="unbounded"
                >
            </xsd:element>

            <xsd:any
                processContents="skip"
                namespace="##other"
                minOccurs="0"
                maxOccurs="unbounded"
            />
            <xsd:element
                name="countryCode"
                type="string"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies the country code for this telephone
                    number.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="nationalCode"
                type="string"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the national code for this phone number.
                    For U.S. telephone numbers, this is equivalent to the area code.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="number"
                type="string"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the actual telephone number within the country
                    and national code number scheme.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="numberExtension"
                type="string"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies an extension used to reach this
                    identity at this number.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="pin"
                type="string"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies a PIN number used on this phone number.
                    A PIN is similar to an extension, but PINs are commonly used to address
                    pagers while extensions are typically used to address phones relative to a
                    local PBX.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
        </xsd:sequence>
    </xsd:complexType>

    <xsd:complexType name="subscriptionType">
        <xsd:annotation>
            <xsd:documentation>
            This element defines a subscription node that is designed to
            be an <b>xdb:blue</b> node which, when placed in a content document, causes
            a subscription to be registered. A subscription contains a trigger element
            which selects a scope of coverage. When items change that are under this scope
            of coverage, and <b>subscriptionResponse</b> message is generated and sent to the specified
            destination address.
            </xsd:documentation>
            <xsd:appinfo>
                <xdb:system type="subscription"/>
            </xsd:appinfo>
        </xsd:annotation>
        <xsd:sequence>

            <!--
            //
            // a subscription contains
            //  - trigger which specifies the data that will
            //    trigger a notification
            //  - an expiration time after which the subscription
            //    will expire and automatically be removed from the
            //    document
            //  - context which is transmitted when this subscription is triggered
            //  - a location to send the subscription message to
            -->
            <xsd:element name="trigger">
                <xsd:complexType>
                    <xsd:attribute
                        name="select"
                        type="xsd:string"
                        use="required"
                        >
                        <xsd:annotation>
                            <xsd:documentation>
                            This item specifies an XPath expression that specifies the nodes that are
                            to be selected and watched for changes. The selection may select only <b>xdb:blue</b>
                            nodes. As changes in this node set occur, they
                            trigger the generation of subscription messages. These messages are then sent
                            to the SOAP receiver listed in the <b>to</b> element.
                            </xsd:documentation>
                        </xsd:annotation>
                    </xsd:attribute>

                    <xsd:attribute
                        name="mode"
                        use="required"
                        >
                        <xsd:annotation>
                            <xsd:documentation>
                            This attribute specifies whether the content of the changes
                            that triggered the subscription are delivered in the subscription
                            message, or the message simply indicates that something changed
                            under the trigger. The attribute may be:
                            <dl>
                                <dt><b>includeData</b></dt>
                                <dd>
                                The data that changed, causing the subscription to trigger, is
                                included in the subscription message. Note that deleted nodes
                                are specified by their ID, not by value.
                                </dd>

                                <dt>excludeData</dt>
                                <dd>
                                The data that changed, causing the subscription to trigger, is
                                not included in the subscription message.
                                </dd>

                            </dl>
                            </xsd:documentation>
                        </xsd:annotation>
                        <xsd:simpleType>
                            <xsd:restriction base="string">
                                <xsd:enumeration value="includeData"/>
                                <xsd:enumeration value="excludeData"/>
                            </xsd:restriction>
                        </xsd:simpleType>
                    </xsd:attribute>

                <xsd:attribute
                    name="baseChangeNumber"
                    type="changeNumberType"
                    use="optional"
                    >
                    <xsd:annotation>
                        <xsd:documentation>
                        This attribute specifies the <b>changeNumber</b> value to which the trigger relates. All changes between the specified change number and the current state
                        of the document relative to the selection are transmitted as subscription
                        messages. This allows a client application to establish a subscription
                        relative to some baseline. As with <b>changeQuery</b>, if the <b>baseChangeNumber</b> is
                        way out of date relative to the current state of the document, and the service
                        can not supply the changes in the subscription message, the subscription
                        insert is rejected. A value of zero means that the current values of
                        the selected nodes are transmitted in the subscription message.
                        </xsd:documentation>
                    </xsd:annotation>
                </xsd:attribute>

                </xsd:complexType>
            </xsd:element>

            <xsd:element
                name="expiresAt"
                type="xsd:dateTime"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element specifies an absolute time after which the
                    subscription is no longer active. The <b>subscription</b> node is
                    automatically removed when the subscription expires. If this element
                    is missing, the subscription does not expire.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element name="context">
                <xsd:annotation>
                    <xsd:documentation>
                    This element returns the <b>context</b> element from the original
                    subscription. Applications should use this element and only this element
                    to correlate the subscription response with one of their subscriptions.
                    </xsd:documentation>
                </xsd:annotation>
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:any
                            processContents="skip"
                            namespace="##other"
                            minOccurs="0"
                            maxOccurs="unbounded"
                        />
                    </xsd:sequence>
                    <xsd:attribute
                        name="uri"
                        type="xsd:anyURI"
                        use="required"
                        >
                        <xsd:annotation>
                            <xsd:documentation>
                            This attribute specifies the URI value chosen by the subscriber
                            that is associated with this subscription.
                            </xsd:documentation>
                        </xsd:annotation>
                    </xsd:attribute>
                </xsd:complexType>
            </xsd:element>

            <xsd:element
                name="to"
                type="xsd:anyURI"
                minOccurs="1"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This attribute specifies the location that is to receive the subscription
                    message. The value of this element may be one of the following forms:
                    <ul>
                        <li>
                        <b>hs:myAlerts</b> This URI indicates that generated subscription
                        messages are to be delivered inside the body of a notification and delivered
                        to the default .NET Alerts service of the creator.
                        </li>

                        <li>
                        <b>protocol://service</b> This URI indicates that generated subscription
                        messages are delivered to the specified service at the domain of the creator's
                        <b>platformId</b>. For instance, a <b>platformId</b> indicating contoso.com, and a value in this
                        element of http://subscriptionResponse, would cause delivery of the subscription
                        message to http://subscriptionResponse.contoso.com.
                        </li>
                    </ul> If this value is not specified, the subscription message is
                    delivered as a notification to the "creator's" .NET Alerts service.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

        </xsd:sequence>
        <xsd:attributeGroup ref="standardBlueAttributeGroup"/>
    </xsd:complexType>

<!--
//
// scopeType
//
-->
<xsd:complexType
    name="scopeType"
    >
    <xsd:annotation>
        <xsd:documentation>
            A <b>scope</b> contains a <b>shape</b> element designed to
            restrict the information visible to the user
            of the scope. When used within a roleMap, the scope's
            shape defines the data shape that is visible to all
            members of the role. When used within an ACL, the scope's shape defines
            the data shape that is visible for the ACL entry relative to the shape
            for the role.
        </xsd:documentation>
    </xsd:annotation>
    <xsd:sequence>
        <xsd:element
            name="name"
            type="localizableString"
            minOccurs="0"
            maxOccurs="unbounded"
            />
        <xsd:element
            name="shape"
            type="shapeType"
            minOccurs="1"
            maxOccurs="1"
            />
    </xsd:sequence>
</xsd:complexType>

<!--
//
// shapeType
//
-->
<xsd:complexType
    name="shapeType"
    >
    <xsd:annotation>
        <xsd:documentation>
        A shape defines the node set visible through the document when
        operating through this <b>shape</b> element.
        </xsd:documentation>
    </xsd:annotation>

    <xsd:sequence>
        <xsd:element
            name="include"
            type="shapeAtomType"
            minOccurs="0"
            maxOccurs="unbounded">
            <xsd:annotation>
                <xsd:documentation>
                This element specifies the set of nodes that should be included in the shape,
                relative to the possible set of nodes indicated by the <b>base</b> attribute.
                </xsd:documentation>
            </xsd:annotation>
        </xsd:element>
        <xsd:element
            name="exclude"
            type="shapeAtomType"
            minOccurs="0"
            maxOccurs="unbounded"
            >
            <xsd:annotation>
                <xsd:documentation>
                This element specifies the set of nodes that should be excluded from the shape,
                relative to the possible set of nodes indicated by the <b>base</b> attribute.
                </xsd:documentation>
            </xsd:annotation>
        </xsd:element>
    </xsd:sequence>
    <xsd:attribute
        name="base"
        >
        <xsd:annotation>
            <xsd:documentation>
            This attribute specifies the initial set of nodes visible through the shape.

            <p/>
            A value of <b>t</b> indicates that the shape is initialized to include all possible
            nodes relative to the shape that is currently in effect. For example, each role
            defines a scope containing a shape. When defining a shape for a role, the value <b>t</b> indicates
            all possible nodes available in the specified document for this role. When defining a shape
            in an ACL entry, a value of <b>t</b> means all of the nodes visible in the shape for the computed
            role. When you use a shape in an HSDL operation, a value of <b>t</b> indicates all of the possible nodes
            selected by the HSDL operation (relative to the ACL shape which itself is relative to the role's shape).

            <p/>
            The value <b>nil</b> indicates the opposite of <b>t</b>, which is the empty node set. Nodes from this
            set may then be included into the shape.
            </xsd:documentation>
        </xsd:annotation>
        <xsd:simpleType>
            <xsd:restriction base="xsd:string">
                <xsd:enumeration value="t"/>
                <xsd:enumeration value="nil"/>
            </xsd:restriction>
        </xsd:simpleType>
    </xsd:attribute>
</xsd:complexType>

<!--
//
// shapeAtomType
//
-->
<xsd:complexType name="shapeAtomType">
    <xsd:attribute name="select" type="selectType" use="required">
    </xsd:attribute>
</xsd:complexType>

<!--
//
// subscription
//
-->
<xsd:element name="subscription" type="subscriptionType">
</xsd:element>

<!--
//
// operation
// used in VS7 wsdl generation
//
-->
<xsd:element name="operation" type="xsd:string">
    <xsd:annotation>
        <xsd:documentation>
            The presence of this element in a .NET My Services WSDL file indicates that the associated operation
            should be processed by the .NET My Services SoapExtension.
        </xsd:documentation>
    </xsd:annotation>
</xsd:element>

<!--
//
// addressType
//
-->
<xsd:complexType name="addressType">
        <xsd:annotation>
            <xsd:documentation>
            This element encapsulates a geographic address. The contained
            nodes describe the geographic address in detail. Typical use is one <b>address</b>
            element for each geographical address for this identity. For instance,
            a user with a primary home and a vacation home might have two
            <b>address</b> elements in this service.
            </xsd:documentation>
        </xsd:annotation>

        <xsd:sequence>
            <xsd:element
                name="cat"
                type="catType"
                minOccurs="0"
                maxOccurs="unbounded"
                >
            </xsd:element>

            <xsd:any
                processContents="skip"
                namespace="##other"
                minOccurs="0"
                maxOccurs="unbounded"
            />
            <xsd:element
                name="officialAddressLine"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element contains the most precise, official line for the address relative to
                    the postal agency serving the area specified by the city(or cities) and <b>postalCode</b>. For official postal usage, this element contains the official,
                    parsable address line that the regional postal system cares about. Typical usage of
                    this element would be to enclose a street address, post office box address,
                    private bag, or any other
                    similar official address. Internal routing information (such as department name, suite number within
                    a building, internal mailstop number, or other similar properties) should be placed within the
                    <b>internalAddressLine</b> element.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="internalAddressLine"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element contains internal routing information relative to the
                    address specified by the <b>officialAddressLine</b> element. Items such as department name, suite number within
                    a building, internal mailstop number, or other similar properties should be placed witin this
                    element.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="primaryCity"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element defines the primary city for this address.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="secondaryCity"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This optional element defines the secondary city for this address. Example types for this
                    element include city district, city wards, postal towns, and so on.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="subdivision"
                type="localizableString"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element contains the offical subdivision name within the country or region for this
                    address. In the United States, this element would contain the two-letter abbreviation for
                    the name of the state. This element is also commonly treated as the "first-order admin subdivision" and typically contains subdivision names referring to:
                    <ul>
                        <li>Administrative division
                        </li>

                        <li>Bundesstaat
                        </li>

                        <li>Canton
                        </li>

                        <li>Federal district
                        </li>

                        <li>Province
                        </li>

                        <li>Region
                        </li>

                        <li>State
                        </li>

                        <li>Territory
                        </li>
                    </ul>
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="postalCode"
                type="string"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element contains the official postal code for this address.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>

            <xsd:element
                name="countryCode"
                minOccurs="0"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element contains the twp-letter ISO-3166 ID of the country, dependency, or functionally
                    equivalent region for this address.
                    </xsd:documentation>
                </xsd:annotation>
                <xsd:simpleType>
                    <xsd:restriction base="xsd:string">
                        <xsd:maxLength value="2"/>
                    </xsd:restriction>
                </xsd:simpleType>
            </xsd:element>

            <xsd:element
                name="latitude"
                type="string"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the latitude value for this address in
                    units of decimal degrees. Geodetic datum WGS84 is required.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="longitude"
                type="string"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the longitude value for this address in
                    units of decimal degrees. Geodetic datum WGS84 is required.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="elevation"
                type="string"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the elevation above sea level with respect to
                    geodetic datum WGS84. The unit of measure for this value is meters.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="velocity"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the last reported velocity
                    associated with this address. Obviously for
                    fixed addresses the velocity node either would not
                    be present, or would be zero (indicating stationary
                    position).
                    </xsd:documentation>
                </xsd:annotation>
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element
                            name="speed"
                            type="string"
                            minOccurs="0"
                            maxOccurs="1"
                            >
                            <xsd:annotation>
                                <xsd:documentation>
                                This element specifies the last-known speed associated
                                with this report in units of meters per second.
                                </xsd:documentation>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element
                            name="direction"
                            type="string"
                            minOccurs="0"
                            maxOccurs="1"
                            >
                            <xsd:annotation>
                                <xsd:documentation>
                                This element specifies the last known direction associated
                                with this report in units of decimal degrees.
                                </xsd:documentation>
                            </xsd:annotation>
                        </xsd:element>
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
            <xsd:element
                name="confidence"
                type="string"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies a percentage value that indicates the confidence value that
                    this location is accurate within the specified precision.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
            <xsd:element
                name="precision"
                type="string"
                minOccurs="0"
                maxOccurs="1"
                >
                <xsd:annotation>
                    <xsd:documentation>
                    This element specifies the precision, in meters, of this location. The value defines
                    a spherical zone that the location falls within.
                    </xsd:documentation>
                </xsd:annotation>
            </xsd:element>
        </xsd:sequence>
    </xsd:complexType>

</xsd:schema>
